var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var Diolog_1 = require("./Scripts/Diolog");
var Button1_1 = require("./Scripts/Button1");
var Reader_1 = require("./Scripts/Reader");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("Scripts/Diolog.ts", Diolog_1.default);
        reg("Scripts/Button1.ts", Button1_1.default);
        reg("Scripts/Reader.ts", Reader_1.default);
    };
    GameConfig.width = 1920;
    GameConfig.height = 1080;
    GameConfig.scaleMode = "full";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "left";
    GameConfig.startScene = "Msg.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./Scripts/Button1":3,"./Scripts/Diolog":4,"./Scripts/Reader":5}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var Button1 = /** @class */ (function (_super) {
    __extends(Button1, _super);
    function Button1() {
        return _super.call(this) || this;
    }
    Button1.prototype.onEnable = function () {
        var button = this.owner;
        button.on(Laya.Event.CLICK, this, function () {
            Diolog_1.default.instance.button1Click();
        });
    };
    return Button1;
}(Laya.Script));
exports.default = Button1;
},{"./Diolog":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Reader_1 = require("./Reader");
var DiaLab = /** @class */ (function (_super) {
    __extends(DiaLab, _super);
    function DiaLab() {
        var _this = _super.call(this) || this;
        _this.story = [""]; //文本
        DiaLab.instance = _this;
        return _this;
    }
    DiaLab.prototype.createChildren = function () {
        _super.prototype.createChildren.call(this);
        this.loadScene("Msg");
    };
    DiaLab.prototype.onEnable = function () {
        this.Diolog.on(Laya.Event.CLICK, this, this.ClickFn);
    };
    DiaLab.prototype.onAwake = function () {
        this.reader = this.getComponent(Reader_1.default);
        this.word = 0;
        this.line = 5;
        this.chaNum = 4;
        this.lineComplete = false;
        this.reader.read(this.chaNum);
        this.ShowWords();
    };
    DiaLab.prototype.button1Click = function () {
    };
    DiaLab.prototype.ShowWords = function () {
        var _this = this;
        this.reader.read(this.chaNum);
        this.showWord = setInterval(function () {
            _this.splitted = _this.story[_this.line][_this.word]; //把文本拆開 +1是為了避開 開頭的代號
            if (_this.splitted == undefined)
                return; //運行到最後一字時 避免出錯  
            _this.Diolog.text += _this.splitted;
            _this.word++; //跳下一個字            
            if (_this.story[_this.line][_this.word] == undefined) { //判斷此句是否結束
                clearInterval(_this.showWord); //關閉showWord
                _this.lineComplete = true;
            }
        }, 150);
    };
    DiaLab.prototype.isEnd = function () {
        if (this.story[this.line + 3] == undefined) { //文本是否結束
            this.Diolog.off(Laya.Event.CLICK, this, this.ClickFn); //關閉點擊事件
            console.log("結束");
            return;
        }
        else if (this.story[this.line][this.word] == undefined) { //此句是否結束
            this.word = 0;
            this.Diolog.text = "";
            this.line += 3; //跳下一句話
            this.chaNum += 3;
            return;
        }
    };
    DiaLab.prototype.ClickFn = function (e) {
        this.lineComplete = !this.lineComplete;
        if (this.lineComplete) { //文字還沒跳完時 點擊使他一次跳完
            clearInterval(this.showWord);
            this.word = this.story[this.line].length; //this.word = 此句最後一個字 (作為條件判斷是否進入下一句)
            this.Diolog.text = this.story[this.line]; //.substring(0, this.story[this.line].length);//跳出完整句子 避開 開頭代號
        }
        else { //文字跳完時 點擊跳出下一句 並呼叫showWord
            this.isEnd();
            this.ShowWords();
        }
    };
    DiaLab.prototype.nameCase = function (name) {
        // this.nameNum = this.story[this.line].substring(0, 1);//取出開頭代號
        switch (name) {
            case "吳俞恆":
                DiaLab.instance.Name.text = "吳俞恆";
                break;
            case "少女":
                DiaLab.instance.Name.text = "少女";
                break;
            case "":
                DiaLab.instance.Name.text = "";
                break;
            case "D":
                DiaLab.instance.Name.text = "D";
                break;
            case "E":
                DiaLab.instance.Name.text = "E";
                break;
            case "F":
                DiaLab.instance.Name.text = "F";
                break;
            case "G":
                DiaLab.instance.Name.text = "G";
                break;
            case "H":
                DiaLab.instance.Name.text = "H";
                break;
            case "I":
                DiaLab.instance.Name.text = "I";
                break;
        }
    };
    return DiaLab;
}(Laya.Scene));
exports.default = DiaLab;
},{"./Reader":5}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var Reader = /** @class */ (function (_super) {
    __extends(Reader, _super);
    function Reader() {
        return _super.call(this) || this;
    }
    Reader.prototype.onAwake = function () {
    };
    Reader.prototype.read = function (Num) {
        Laya.loader.load("../laya/assets/res/test.csv", new Laya.Handler(this, function (e) {
            Diolog_1.default.instance.story.length = 0;
            Diolog_1.default.instance.story = Diolog_1.default.instance.story.concat(e.split(","));
            Diolog_1.default.instance.nameCase(e.split(",")[Num]);
            // DiaLab.instance.ShowWords();
        }));
    };
    return Reader;
}(Laya.Script));
exports.default = Reader;
},{"./Diolog":4}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3dvcmtzcGFjZS9MYXlhMi9MYXlhQWlySURFL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvU2NyaXB0cy9CdXR0b24xLnRzIiwic3JjL1NjcmlwdHMvRGlvbG9nLnRzIiwic3JjL1NjcmlwdHMvUmVhZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRywyQ0FBcUM7QUFDckMsNkNBQXVDO0FBQ3ZDLDJDQUFxQztBQUNyQzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLG1CQUFtQixFQUFDLGdCQUFNLENBQUMsQ0FBQztRQUNoQyxHQUFHLENBQUMsb0JBQW9CLEVBQUMsaUJBQU8sQ0FBQyxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxnQkFBTSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQWxCTSxnQkFBSyxHQUFRLElBQUksQ0FBQztJQUNsQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLE1BQU0sQ0FBQztJQUN4QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLFFBQVEsQ0FBQztJQUN2QixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLFdBQVcsQ0FBQztJQUMzQixvQkFBUyxHQUFRLEVBQUUsQ0FBQztJQUNwQixnQkFBSyxHQUFTLEtBQUssQ0FBQztJQUNwQixlQUFJLEdBQVMsS0FBSyxDQUFDO0lBQ25CLHVCQUFZLEdBQVMsS0FBSyxDQUFDO0lBQzNCLDRCQUFp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Q0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNuRSxnQkFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzVDLCtCQUErQjtRQUNuQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUVMLGFBQUM7QUFBRCxDQWhCQSxBQWdCQyxDQWhCbUMsSUFBSSxDQUFDLE1BQU0sR0FnQjlDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgRGlvbG9nIGZyb20gXCIuL1NjcmlwdHMvRGlvbG9nXCJcbmltcG9ydCBCdXR0b24xIGZyb20gXCIuL1NjcmlwdHMvQnV0dG9uMVwiXG5pbXBvcnQgUmVhZGVyIGZyb20gXCIuL1NjcmlwdHMvUmVhZGVyXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTE5MjA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMDgwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmdWxsXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cIm1pZGRsZVwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJNc2cuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcIlNjcmlwdHMvRGlvbG9nLnRzXCIsRGlvbG9nKTtcbiAgICAgICAgcmVnKFwiU2NyaXB0cy9CdXR0b24xLnRzXCIsQnV0dG9uMSk7XG4gICAgICAgIHJlZyhcIlNjcmlwdHMvUmVhZGVyLnRzXCIsUmVhZGVyKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgRGlhTGFiIGZyb20gXCIuL0Rpb2xvZ1wiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbjEgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIHB1YmxpYyBCdG4xOiBMYXlhLkJ1dHRvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWR7XHJcbiAgICAgICAgbGV0IGJ1dHRvbjogTGF5YS5CdXR0b24gPSB0aGlzLm93bmVyIGFzIExheWEuQnV0dG9uO1xyXG4gICAgICAgIGJ1dHRvbi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCgpPT57XHJcbiAgICAgICAgRGlhTGFiLmluc3RhbmNlLmJ1dHRvbjFDbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFJlYWRlciBmcm9tIFwiLi9SZWFkZXJcIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWFMYWIgZXh0ZW5kcyBMYXlhLlNjZW5le1xyXG4gICAgc3RhdGljIGluc3RhbmNlOiBEaWFMYWI7Ly/oi6Xlhbbku5bnqIvlvI/opoHoqr/nlKgg5YmH5b+F6aCI5a6j5ZGKXHJcbiAgICBwcml2YXRlIHdvcmQ6IG51bWJlcjsvL+aWh+acrOS4rSDmr4/kuIDlj6XoqbHlgIvliKXnmoTlrZfmlbhcclxuICAgIHByaXZhdGUgbGluZTogbnVtYmVyOy8v5paH5pys5LitIOWPpeaVuFxyXG4gICAgcHJpdmF0ZSBsaW5lQ29tcGxldGU6IGJvb2xlYW47Ly/liKTmlrcg6YCZ5Y+l6Kmx5piv5ZCm6Kyb5a6MXHJcbiAgICBwcml2YXRlIHNwbGl0dGVkOiBzdHJpbmc7Ly/miormlofmnKzmi4bplotcclxuICAgIHByaXZhdGUgc2hvd1dvcmQ6IG51bWJlcjsvL+iuk+aWh+acrOS4gOWtl+S4gOWtl+WHuuePvueahOWHveW8j1xyXG4gICAgcHVibGljIHN0b3J5OiBzdHJpbmdbXSA9IFtcIlwiXTsvL+aWh+acrFxyXG4gICAgcHVibGljIERpb2xvZzpMYXlhLkxhYmVsO1xyXG4gICAgcHVibGljIE5hbWU6TGF5YS5MYWJlbDsgXHJcbiAgICBwcml2YXRlIHJlYWRlcjogUmVhZGVyO1xyXG4gICAgcHVibGljIGNoYU51bTpudW1iZXI7XHJcbiAgICBcclxuICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICB0aGlzLmxvYWRTY2VuZShcIk1zZ1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBEaWFMYWIuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuRGlvbG9nLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuQ2xpY2tGbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFJlYWRlcik7XHJcbiAgICAgICAgdGhpcy53b3JkID0gMDtcclxuICAgICAgICB0aGlzLmxpbmUgPSA1O1xyXG4gICAgICAgIHRoaXMuY2hhTnVtID0gNDtcclxuICAgICAgICB0aGlzLmxpbmVDb21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVhZGVyLnJlYWQodGhpcy5jaGFOdW0pO1xyXG4gICAgICAgIHRoaXMuU2hvd1dvcmRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9uMUNsaWNrKCk6dm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIFNob3dXb3JkcygpOiB2b2lkIHsvL+iuk+aWh+acrOS4gOWtl+S4gOWtl+WHuuePvlxyXG4gICAgICAgIHRoaXMucmVhZGVyLnJlYWQodGhpcy5jaGFOdW0pO1xyXG4gICAgICAgIHRoaXMuc2hvd1dvcmQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3BsaXR0ZWQgPSB0aGlzLnN0b3J5W3RoaXMubGluZV1bdGhpcy53b3JkXTsvL+aKiuaWh+acrOaLhumWiyArMeaYr+eCuuS6humBv+mWiyDplovpoK3nmoTku6PomZ9cclxuICAgICAgICAgICAgaWYgKHRoaXMuc3BsaXR0ZWQgPT0gdW5kZWZpbmVkKSByZXR1cm47IC8v6YGL6KGM5Yiw5pyA5b6M5LiA5a2X5pmCIOmBv+WFjeWHuumMryAgXHJcbiAgICAgICAgICAgIHRoaXMuRGlvbG9nLnRleHQgKz0gdGhpcy5zcGxpdHRlZDtcclxuICAgICAgICAgICAgdGhpcy53b3JkKys7Ly/ot7PkuIvkuIDlgIvlrZcgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcnlbdGhpcy5saW5lXVt0aGlzLndvcmRdID09IHVuZGVmaW5lZCkgey8v5Yik5pa35q2k5Y+l5piv5ZCm57WQ5p2fXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc2hvd1dvcmQpOy8v6Zec6ZaJc2hvd1dvcmRcclxuICAgICAgICAgICAgICAgIHRoaXMubGluZUNvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDE1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbmQoKTogdm9pZCB7Ly/liKTmlrfpgJnlj6XoqbHmmK/lkKborJvlrowgJiDmlofmnKzmmK/lkKblhajpg6jorJvlroxcclxuICAgICAgICBpZiAodGhpcy5zdG9yeVt0aGlzLmxpbmUgKyAzXSA9PSB1bmRlZmluZWQpIHsgLy/mlofmnKzmmK/lkKbntZDmnZ9cclxuICAgICAgICAgICAgdGhpcy5EaW9sb2cub2ZmKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuQ2xpY2tGbik7Ly/pl5zplonpu57mk4rkuovku7ZcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLntZDmnZ9cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RvcnlbdGhpcy5saW5lXVt0aGlzLndvcmRdID09IHVuZGVmaW5lZCkgey8v5q2k5Y+l5piv5ZCm57WQ5p2fXHJcbiAgICAgICAgICAgIHRoaXMud29yZCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuRGlvbG9nLnRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmUrPTM7Ly/ot7PkuIvkuIDlj6XoqbFcclxuICAgICAgICAgICAgdGhpcy5jaGFOdW0rPTM7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQ2xpY2tGbihlOiBMYXlhLkV2ZW50KTogdm9pZCB7Ly/pu57mk4rkuovku7ZcclxuICAgICAgICB0aGlzLmxpbmVDb21wbGV0ZSA9ICF0aGlzLmxpbmVDb21wbGV0ZTtcclxuICAgICAgICBpZiAodGhpcy5saW5lQ29tcGxldGUpIHsvL+aWh+Wtl+mChOaykui3s+WujOaZgiDpu57mk4rkvb/ku5bkuIDmrKHot7PlroxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNob3dXb3JkKTtcclxuICAgICAgICAgICAgdGhpcy53b3JkID0gdGhpcy5zdG9yeVt0aGlzLmxpbmVdLmxlbmd0aDsvL3RoaXMud29yZCA9IOatpOWPpeacgOW+jOS4gOWAi+WtlyAo5L2c54K65qKd5Lu25Yik5pa35piv5ZCm6YCy5YWl5LiL5LiA5Y+lKVxyXG4gICAgICAgICAgICB0aGlzLkRpb2xvZy50ZXh0ID0gdGhpcy5zdG9yeVt0aGlzLmxpbmVdOy8vLnN1YnN0cmluZygwLCB0aGlzLnN0b3J5W3RoaXMubGluZV0ubGVuZ3RoKTsvL+i3s+WHuuWujOaVtOWPpeWtkCDpgb/plosg6ZaL6aCt5Luj6JmfXHJcbiAgICAgICAgfSBlbHNlIHsvL+aWh+Wtl+i3s+WujOaZgiDpu57mk4rot7Plh7rkuIvkuIDlj6Ug5Lim5ZG85Y+rc2hvd1dvcmRcclxuICAgICAgICAgICAgdGhpcy5pc0VuZCgpO1xyXG4gICAgICAgICAgICB0aGlzLlNob3dXb3JkcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICBuYW1lQ2FzZShuYW1lPzogc3RyaW5nKTogdm9pZCB7Ly/mipPlj5bplovpoK3ku6PomZ8g5pS56K6K5ZCN5a2XXHJcbiAgICAgICAgLy8gdGhpcy5uYW1lTnVtID0gdGhpcy5zdG9yeVt0aGlzLmxpbmVdLnN1YnN0cmluZygwLCAxKTsvL+WPluWHuumWi+mgreS7o+iZn1xyXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwi5ZCz5L+e5oGGXCI6XHJcbiAgICAgICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UuTmFtZS50ZXh0ID0gXCLlkLPkv57mgYZcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCLlsJHlpbNcIjpcclxuICAgICAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5OYW1lLnRleHQgPSBcIuWwkeWls1wiXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlwiOlxyXG4gICAgICAgICAgICAgICAgRGlhTGFiLmluc3RhbmNlLk5hbWUudGV4dCA9IFwiXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiRFwiOlxyXG4gICAgICAgICAgICAgICAgRGlhTGFiLmluc3RhbmNlLk5hbWUudGV4dCA9IFwiRFwiXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkVcIjpcclxuICAgICAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5OYW1lLnRleHQgPSBcIkVcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJGXCI6XHJcbiAgICAgICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UuTmFtZS50ZXh0ID0gXCJGXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiR1wiOlxyXG4gICAgICAgICAgICAgICAgRGlhTGFiLmluc3RhbmNlLk5hbWUudGV4dCA9IFwiR1wiXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkhcIjpcclxuICAgICAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5OYW1lLnRleHQgPSBcIkhcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJJXCI6XHJcbiAgICAgICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UuTmFtZS50ZXh0ID0gXCJJXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBEaWFMYWIgZnJvbSBcIi4vRGlvbG9nXCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVhZGVyIGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gICAgb25Bd2FrZSgpOnZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIHJlYWQoTnVtPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChcIi4uL2xheWEvYXNzZXRzL3Jlcy90ZXN0LmNzdlwiLCBuZXcgTGF5YS5IYW5kbGVyKHRoaXMsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5zdG9yeS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2Uuc3RvcnkgPSBEaWFMYWIuaW5zdGFuY2Uuc3RvcnkuY29uY2F0KGUuc3BsaXQoXCIsXCIpKTtcclxuICAgICAgICAgICAgRGlhTGFiLmluc3RhbmNlLm5hbWVDYXNlKGUuc3BsaXQoXCIsXCIpW051bV0pO1xyXG4gICAgICAgICAgICAvLyBEaWFMYWIuaW5zdGFuY2UuU2hvd1dvcmRzKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxufSJdfQ==
