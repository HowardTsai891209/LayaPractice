var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var Diolog_1 = require("./Scripts/Diolog");
var Button1_1 = require("./Scripts/Button1");
var Reader_1 = require("./Scripts/Reader");
var FaceReader_1 = require("./Scripts/FaceReader");
var commandReader_1 = require("./Scripts/commandReader");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("Scripts/Diolog.ts", Diolog_1.default);
        reg("Scripts/Button1.ts", Button1_1.default);
        reg("Scripts/Reader.ts", Reader_1.default);
        reg("Scripts/FaceReader.ts", FaceReader_1.default);
        reg("Scripts/commandReader.ts", commandReader_1.default);
    };
    GameConfig.width = 1920;
    GameConfig.height = 1080;
    GameConfig.scaleMode = "exactfit";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "center";
    GameConfig.startScene = "Msg.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./Scripts/Button1":3,"./Scripts/Diolog":4,"./Scripts/FaceReader":5,"./Scripts/Reader":6,"./Scripts/commandReader":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var Button1 = /** @class */ (function (_super) {
    __extends(Button1, _super);
    function Button1() {
        return _super.call(this) || this;
    }
    Button1.prototype.onEnable = function () {
        var button = this.owner;
        button.on(Laya.Event.CLICK, this, function () {
            Diolog_1.default.instance.button1Click();
        });
    };
    return Button1;
}(Laya.Script));
exports.default = Button1;
},{"./Diolog":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Reader_1 = require("./Reader");
var DiaLab = /** @class */ (function (_super) {
    __extends(DiaLab, _super);
    function DiaLab() {
        var _this = _super.call(this) || this;
        _this.story = [""]; //文本
        DiaLab.instance = _this;
        return _this;
    }
    DiaLab.prototype.createChildren = function () {
        _super.prototype.createChildren.call(this);
        this.loadScene("Msg");
    };
    DiaLab.prototype.onEnable = function () {
        this.Diolog.on(Laya.Event.CLICK, this, this.ClickFn);
    };
    DiaLab.prototype.onAwake = function () {
        this.reader = this.getComponent(Reader_1.default);
        this.onlyOnce = false;
        this.comNum = 10;
        this.chaNum = 12;
        this.line = 13;
        this.faceNum = 14;
        this.findNext = 5;
        this.word = 0;
        this.lineComplete = false;
        this.ShowWords();
    };
    DiaLab.prototype.button1Click = function () {
    };
    DiaLab.prototype.ShowWords = function () {
        var _this = this;
        this.reader.read(this.chaNum);
        this.showWord = setInterval(function () {
            _this.splitted = _this.story[_this.line][_this.word]; //把文本拆開 +1是為了避開 開頭的代號
            if (_this.splitted == undefined)
                return; //運行到最後一字時 避免出錯  
            _this.Diolog.text += _this.splitted;
            _this.word++; //跳下一個字            
            if (_this.story[_this.line][_this.word] == undefined) { //判斷此句是否結束
                clearInterval(_this.showWord); //關閉showWord
                _this.lineComplete = true;
            }
        }, 150);
    };
    DiaLab.prototype.isEnd = function () {
        if (this.story[this.line + this.findNext] == undefined) { //文本是否結束
            this.Diolog.off(Laya.Event.CLICK, this, this.ClickFn); //關閉點擊事件
            console.log("結束");
            return;
        }
        else if (this.story[this.line][this.word] == undefined) { //此句是否結束
            this.onlyOnce = true;
            this.word = 0;
            this.Diolog.text = "";
            this.line += this.findNext; //下一句話
            this.chaNum += this.findNext; //下一個人
            this.faceNum += this.findNext; //下一個表情
            this.comNum += this.findNext; //下一個指令
            return;
        }
    };
    DiaLab.prototype.ClickFn = function (e) {
        this.lineComplete = !this.lineComplete;
        if (this.lineComplete) { //文字還沒跳完時 點擊使他一次跳完
            clearInterval(this.showWord);
            this.word = this.story[this.line].length; //this.word = 此句最後一個字 (作為條件判斷是否進入下一句)
            this.Diolog.text = this.story[this.line]; //.substring(0, this.story[this.line].length);//跳出完整句子 避開 開頭代號
        }
        else { //文字跳完時 點擊跳出下一句 並呼叫showWord
            this.isEnd();
            this.ShowWords();
        }
    };
    DiaLab.prototype.nameCase = function (name) {
        switch (name) {
            case "吳俞恆":
                this.Name.text = "吳俞恆";
                break;
            case "少女":
                this.Name.text = "少女";
                break;
            case "":
                this.Name.text = "";
                break;
            case "D":
                this.Name.text = "D";
                break;
            case "E":
                this.Name.text = "E";
                break;
            case "F":
                this.Name.text = "F";
                break;
            case "G":
                this.Name.text = "G";
                break;
            case "H":
                this.Name.text = "H";
                break;
            case "I":
                this.Name.text = "I";
                break;
        }
    };
    return DiaLab;
}(Laya.Scene));
exports.default = DiaLab;
},{"./Reader":6}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var faceReader = /** @class */ (function (_super) {
    __extends(faceReader, _super);
    function faceReader() {
        return _super.call(this) || this;
    }
    faceReader.prototype.readFace = function (text) {
        if (text[Diolog_1.default.instance.chaNum] == "") {
            Diolog_1.default.instance.Face.skin = "";
        }
        else if (text[Diolog_1.default.instance.chaNum] == "吳俞恆") {
            switch (text[Diolog_1.default.instance.faceNum]) {
                case "大哭":
                    Diolog_1.default.instance.Face.skin = "face/Zh/Zh_a1003.png";
                    break;
                case "大笑":
                    Diolog_1.default.instance.Face.skin = "face/Zh/Zh_a1005.png";
                    break;
            }
        }
        else if (text[Diolog_1.default.instance.chaNum] == "少女") {
            switch (text[Diolog_1.default.instance.faceNum]) {
                case "大哭":
                    Diolog_1.default.instance.Face.skin = "face/Gu/Gu_a1003.png";
                    break;
                case "大笑":
                    Diolog_1.default.instance.Face.skin = "face/Gu/Gu_a1005.png";
                    break;
            }
        }
    };
    return faceReader;
}(Laya.Script));
exports.default = faceReader;
},{"./Diolog":4}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var commandReader_1 = require("./commandReader");
var FaceReader_1 = require("./FaceReader");
var Reader = /** @class */ (function (_super) {
    __extends(Reader, _super);
    function Reader() {
        var _this = _super.call(this) || this;
        // private finder: number;
        _this.storyPath = "../laya/assets/res/test.csv";
        return _this;
    }
    Reader.prototype.onAwake = function () {
        this.comReader = this.owner.getComponent(commandReader_1.default);
        this.faReader = this.owner.getComponent(FaceReader_1.default);
    };
    Reader.prototype.read = function (Num) {
        var _this = this;
        Laya.loader.load(this.storyPath, new Laya.Handler(this, function (e) {
            _this.comReader.readCom(e.split(","));
            _this.faReader.readFace(e.split(","));
            Diolog_1.default.instance.nameCase(e.split(",")[Num]);
            if (Diolog_1.default.instance.onlyOnce)
                return;
            Diolog_1.default.instance.story.length = 0;
            Diolog_1.default.instance.story = Diolog_1.default.instance.story.concat(e.split(","));
        }));
    };
    return Reader;
}(Laya.Script));
exports.default = Reader;
},{"./Diolog":4,"./FaceReader":5,"./commandReader":7}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var commandReader = /** @class */ (function (_super) {
    __extends(commandReader, _super);
    function commandReader() {
        return _super.call(this) || this;
    }
    commandReader.prototype.readCom = function (text) {
        console.log(text[Diolog_1.default.instance.comNum]);
    };
    return commandReader;
}(Laya.Script));
exports.default = commandReader;
},{"./Diolog":4}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3dvcmtzcGFjZS9MYXlhMi9MYXlhQWlySURFL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvU2NyaXB0cy9CdXR0b24xLnRzIiwic3JjL1NjcmlwdHMvRGlvbG9nLnRzIiwic3JjL1NjcmlwdHMvRmFjZVJlYWRlci50cyIsInNyYy9TY3JpcHRzL1JlYWRlci50cyIsInNyYy9TY3JpcHRzL2NvbW1hbmRSZWFkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLDJDQUFxQztBQUNyQyw2Q0FBdUM7QUFDdkMsMkNBQXFDO0FBQ3JDLG1EQUE2QztBQUM3Qyx5REFBbUQ7QUFDbkQ7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQyxnQkFBTSxDQUFDLENBQUM7UUFDaEMsR0FBRyxDQUFDLG9CQUFvQixFQUFDLGlCQUFPLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsbUJBQW1CLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO1FBQ2hDLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxvQkFBVSxDQUFDLENBQUM7UUFDeEMsR0FBRyxDQUFDLDBCQUEwQixFQUFDLHVCQUFhLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBcEJNLGdCQUFLLEdBQVEsSUFBSSxDQUFDO0lBQ2xCLGlCQUFNLEdBQVEsSUFBSSxDQUFDO0lBQ25CLG9CQUFTLEdBQVEsVUFBVSxDQUFDO0lBQzVCLHFCQUFVLEdBQVEsTUFBTSxDQUFDO0lBQ3pCLGlCQUFNLEdBQVEsUUFBUSxDQUFD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QUFDLENBQUMsQ0FBQztRQUN2RSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQW9CTCxhQUFDO0FBQUQsQ0E3Q0EsQUE2Q0MsQ0E3Q21DLElBQUksQ0FBQyxNQUFNLEdBNkM5Qzs7Ozs7QUNoREQsbUNBQTZCO0FBQzdCO0lBQTJDLGlDQUFXO0lBQ2xEO2VBQ0ksaUJBQU87SUFDWCxDQUFDO0lBRUQsK0JBQU8sR0FBUCxVQUFRLElBQWE7UUFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQVJBLEFBUUMsQ0FSMEMsSUFBSSxDQUFDLE1BQU0sR0FRckQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBEaW9sb2cgZnJvbSBcIi4vU2NyaXB0cy9EaW9sb2dcIlxuaW1wb3J0IEJ1dHRvbjEgZnJvbSBcIi4vU2NyaXB0cy9CdXR0b24xXCJcbmltcG9ydCBSZWFkZXIgZnJvbSBcIi4vU2NyaXB0cy9SZWFkZXJcIlxuaW1wb3J0IEZhY2VSZWFkZXIgZnJvbSBcIi4vU2NyaXB0cy9GYWNlUmVhZGVyXCJcbmltcG9ydCBjb21tYW5kUmVhZGVyIGZyb20gXCIuL1NjcmlwdHMvY29tbWFuZFJlYWRlclwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj0xOTIwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTA4MDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZXhhY3RmaXRcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwibWlkZGxlXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImNlbnRlclwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiTXNnLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJTY3JpcHRzL0Rpb2xvZy50c1wiLERpb2xvZyk7XG4gICAgICAgIHJlZyhcIlNjcmlwdHMvQnV0dG9uMS50c1wiLEJ1dHRvbjEpO1xuICAgICAgICByZWcoXCJTY3JpcHRzL1JlYWRlci50c1wiLFJlYWRlcik7XG4gICAgICAgIHJlZyhcIlNjcmlwdHMvRmFjZVJlYWRlci50c1wiLEZhY2VSZWFkZXIpO1xuICAgICAgICByZWcoXCJTY3JpcHRzL2NvbW1hbmRSZWFkZXIudHNcIixjb21tYW5kUmVhZGVyKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XG5jbGFzcyBNYWluIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XG5cblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xuXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xuXHR9XG5cblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcblx0fVxuXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xuXHR9XG59XG4vL+a/gOa0u+WQr+WKqOexu1xubmV3IE1haW4oKTtcbiIsImltcG9ydCBEaWFMYWIgZnJvbSBcIi4vRGlvbG9nXCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbjEgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcbiAgICBwdWJsaWMgQnRuMTogTGF5YS5CdXR0b247XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lke1xuICAgICAgICBsZXQgYnV0dG9uOiBMYXlhLkJ1dHRvbiA9IHRoaXMub3duZXIgYXMgTGF5YS5CdXR0b247XG4gICAgICAgIGJ1dHRvbi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCgpPT57XG4gICAgICAgIERpYUxhYi5pbnN0YW5jZS5idXR0b24xQ2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBSZWFkZXIgZnJvbSBcIi4vUmVhZGVyXCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpYUxhYiBleHRlbmRzIExheWEuU2NlbmV7XG4gICAgc3RhdGljIGluc3RhbmNlOiBEaWFMYWI7Ly/oi6Xlhbbku5bnqIvlvI/opoHoqr/nlKgg5YmH5b+F6aCI5a6j5ZGKXG4gICAgcHJpdmF0ZSB3b3JkOiBudW1iZXI7Ly/mlofmnKzkuK0g5q+P5LiA5Y+l6Kmx5YCL5Yil55qE5a2X5pW4XG4gICAgcHJpdmF0ZSBsaW5lOiBudW1iZXI7Ly/mlofmnKzkuK0g5Y+l5pW4XG4gICAgcHJpdmF0ZSBsaW5lQ29tcGxldGU6IGJvb2xlYW47Ly/liKTmlrcg6YCZ5Y+l6Kmx5piv5ZCm6Kyb5a6MXG4gICAgcHJpdmF0ZSBzcGxpdHRlZDogc3RyaW5nOy8v5oqK5paH5pys5ouG6ZaLXG4gICAgcHJpdmF0ZSBzaG93V29yZDogbnVtYmVyOy8v6K6T5paH5pys5LiA5a2X5LiA5a2X5Ye654++55qE5Ye95byPXG4gICAgcHVibGljIHN0b3J5OiBzdHJpbmdbXSA9IFtcIlwiXTsvL+aWh+acrFxuICAgIHB1YmxpYyBjaGFOdW06IG51bWJlcjsvL+aWh+acrOS4rSDlkI3lrZfnmoTkvY3nva5cbiAgICBwdWJsaWMgZmluZE5leHQ6IG51bWJlcjsvL2V4Y2Vs5omj5o6JQ29tbWFuZOacieW5vuWIl+WwseimgeWkmuWwkSDnlKjkvobmib7liLDkuIvkuIDlgIvnm7jlkIzmrITkvY1cbiAgICBwdWJsaWMgb25seU9uY2U6IGJvb2xlYW47Ly/orpNSZWFkZXLlj5blh7rmlofmnKznmoTli5XkvZzkuI3opoHph43opIfln7fooYxcbiAgICBwdWJsaWMgZmFjZU51bTogbnVtYmVyOy8v5paH5pys5LitIOihqOaDheeahOS9jee9rlxuICAgIHB1YmxpYyBjb21OdW06IG51bWJlcjsvL+aWh+acrOS4rWNvbW1hbmTnmoTkvY3nva5cbiAgICBwdWJsaWMgRGlvbG9nOiBMYXlhLkxhYmVsOy8v5bCN6Kmx5YWn5a656aGv56S65Y2A5Z+fXG4gICAgcHVibGljIE5hbWU6IExheWEuTGFiZWw7IC8v5ZCN5a2X6aGv56S65Y2A5Z+fXG4gICAgcHJpdmF0ZSByZWFkZXI6IFJlYWRlcjsvL+iugOaWh+acrFxuICAgIHB1YmxpYyBGYWNlOiBMYXlhLkltYWdlOy8v6KGo5oOF6aGv56S65Y2A5Z+fXG4gICAgXG4gICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcbiAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJNc2dcIik7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBEaWFMYWIuaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLkRpb2xvZy5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLkNsaWNrRm4pO1xuICAgIH1cblxuICAgIG9uQXdha2UoKTogdm9pZCB7ICAgICAgICBcbiAgICAgICAgdGhpcy5yZWFkZXIgPSB0aGlzLmdldENvbXBvbmVudChSZWFkZXIpO1xuICAgICAgICB0aGlzLm9ubHlPbmNlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29tTnVtID0gMTA7XG4gICAgICAgIHRoaXMuY2hhTnVtID0gMTI7XG4gICAgICAgIHRoaXMubGluZSA9IDEzO1xuICAgICAgICB0aGlzLmZhY2VOdW0gPSAxNDtcbiAgICAgICAgdGhpcy5maW5kTmV4dCA9IDU7XG4gICAgICAgIHRoaXMud29yZCA9IDA7XG4gICAgICAgIHRoaXMubGluZUNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuU2hvd1dvcmRzKCk7XG4gICAgfSAgIFxuXG4gICAgYnV0dG9uMUNsaWNrKCk6dm9pZCB7XG5cbiAgICB9XG5cbiAgICBTaG93V29yZHMoKTogdm9pZCB7Ly/orpPmlofmnKzkuIDlrZfkuIDlrZflh7rnj75cbiAgICAgICAgdGhpcy5yZWFkZXIucmVhZCh0aGlzLmNoYU51bSk7XG4gICAgICAgIHRoaXMuc2hvd1dvcmQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNwbGl0dGVkID0gdGhpcy5zdG9yeVt0aGlzLmxpbmVdW3RoaXMud29yZF07Ly/miormlofmnKzmi4bplosgKzHmmK/ngrrkuobpgb/plosg6ZaL6aCt55qE5Luj6JmfXG4gICAgICAgICAgICBpZiAodGhpcy5zcGxpdHRlZCA9PSB1bmRlZmluZWQpIHJldHVybjsgLy/pgYvooYzliLDmnIDlvozkuIDlrZfmmYIg6YG/5YWN5Ye66YyvICBcbiAgICAgICAgICAgIHRoaXMuRGlvbG9nLnRleHQgKz0gdGhpcy5zcGxpdHRlZDtcbiAgICAgICAgICAgIHRoaXMud29yZCsrOy8v6Lez5LiL5LiA5YCL5a2XICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yeVt0aGlzLmxpbmVdW3RoaXMud29yZF0gPT0gdW5kZWZpbmVkKSB7Ly/liKTmlrfmraTlj6XmmK/lkKbntZDmnZ9cbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc2hvd1dvcmQpOy8v6Zec6ZaJc2hvd1dvcmRcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDE1MCk7XG4gICAgfVxuXG4gICAgaXNFbmQoKTogdm9pZCB7Ly/liKTmlrfpgJnlj6XoqbHmmK/lkKborJvlrowgJiDmlofmnKzmmK/lkKblhajpg6jorJvlroxcbiAgICAgICAgaWYgKHRoaXMuc3RvcnlbdGhpcy5saW5lICsgdGhpcy5maW5kTmV4dF0gPT0gdW5kZWZpbmVkKSB7IC8v5paH5pys5piv5ZCm57WQ5p2fXG4gICAgICAgICAgICB0aGlzLkRpb2xvZy5vZmYoTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5DbGlja0ZuKTsvL+mXnOmWiem7nuaTiuS6i+S7tlxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLntZDmnZ9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdG9yeVt0aGlzLmxpbmVdW3RoaXMud29yZF0gPT0gdW5kZWZpbmVkKSB7Ly/mraTlj6XmmK/lkKbntZDmnZ9cbiAgICAgICAgICAgIHRoaXMub25seU9uY2UgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy53b3JkID0gMDtcbiAgICAgICAgICAgIHRoaXMuRGlvbG9nLnRleHQgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5saW5lKz10aGlzLmZpbmROZXh0Oy8v5LiL5LiA5Y+l6KmxXG4gICAgICAgICAgICB0aGlzLmNoYU51bSs9dGhpcy5maW5kTmV4dDsvL+S4i+S4gOWAi+S6ulxuICAgICAgICAgICAgdGhpcy5mYWNlTnVtKz10aGlzLmZpbmROZXh0Oy8v5LiL5LiA5YCL6KGo5oOFXG4gICAgICAgICAgICB0aGlzLmNvbU51bSs9dGhpcy5maW5kTmV4dDsvL+S4i+S4gOWAi+aMh+S7pFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQ2xpY2tGbihlOiBMYXlhLkV2ZW50KTogdm9pZCB7Ly/pu57mk4rkuovku7ZcbiAgICAgICAgdGhpcy5saW5lQ29tcGxldGUgPSAhdGhpcy5saW5lQ29tcGxldGU7XG4gICAgICAgIGlmICh0aGlzLmxpbmVDb21wbGV0ZSkgey8v5paH5a2X6YKE5rKS6Lez5a6M5pmCIOm7nuaTiuS9v+S7luS4gOasoei3s+WujFxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNob3dXb3JkKTtcbiAgICAgICAgICAgIHRoaXMud29yZCA9IHRoaXMuc3RvcnlbdGhpcy5saW5lXS5sZW5ndGg7Ly90aGlzLndvcmQgPSDmraTlj6XmnIDlvozkuIDlgIvlrZcgKOS9nOeCuuaineS7tuWIpOaWt+aYr+WQpumAsuWFpeS4i+S4gOWPpSlcbiAgICAgICAgICAgIHRoaXMuRGlvbG9nLnRleHQgPSB0aGlzLnN0b3J5W3RoaXMubGluZV07Ly8uc3Vic3RyaW5nKDAsIHRoaXMuc3RvcnlbdGhpcy5saW5lXS5sZW5ndGgpOy8v6Lez5Ye65a6M5pW05Y+l5a2QIOmBv+mWiyDplovpoK3ku6PomZ9cbiAgICAgICAgfSBlbHNlIHsvL+aWh+Wtl+i3s+WujOaZgiDpu57mk4rot7Plh7rkuIvkuIDlj6Ug5Lim5ZG85Y+rc2hvd1dvcmRcbiAgICAgICAgICAgIHRoaXMuaXNFbmQoKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuU2hvd1dvcmRzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgICAgICBcbiAgICBuYW1lQ2FzZShuYW1lPzogc3RyaW5nKTogdm9pZCB7Ly/mipPlj5bplovpoK3ku6PomZ8g5pS56K6K5ZCN5a2XXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcIuWQs+S/nuaBhlwiOlxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCLlkLPkv57mgYZcIlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWwkeWls1wiOlxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCLlsJHlpbNcIlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCJcIlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLk5hbWUudGV4dCA9IFwiRFwiXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiRVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCJFXCJcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJGXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5OYW1lLnRleHQgPSBcIkZcIlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkdcIjpcbiAgICAgICAgICAgICAgICB0aGlzLk5hbWUudGV4dCA9IFwiR1wiXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiSFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCJIXCJcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJJXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5OYW1lLnRleHQgPSBcIklcIlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBEaWFMYWIgZnJvbSBcIi4vRGlvbG9nXCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZmFjZVJlYWRlciBleHRlbmRzIExheWEuU2NyaXB0e1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTsgICBcclxuICAgIH1cclxuXHJcbiAgICByZWFkRmFjZSh0ZXh0Pzogc3RyaW5nKTp2b2lkIHsgICAgICAgXHJcbiAgICAgICAgaWYodGV4dFtEaWFMYWIuaW5zdGFuY2UuY2hhTnVtXSA9PSBcIlwiKXtcclxuICAgICAgICAgICAgRGlhTGFiLmluc3RhbmNlLkZhY2Uuc2tpbiA9IFwiXCI7XHJcbiAgICAgICAgfWVsc2UgaWYodGV4dFtEaWFMYWIuaW5zdGFuY2UuY2hhTnVtXSA9PSBcIuWQs+S/nuaBhlwiKXtcclxuICAgICAgICAgICAgc3dpdGNoKHRleHRbRGlhTGFiLmluc3RhbmNlLmZhY2VOdW1dKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCLlpKflk61cIjpcclxuICAgICAgICAgICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UuRmFjZS5za2luID0gXCJmYWNlL1poL1poX2ExMDAzLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIuWkp+eskVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5GYWNlLnNraW4gPSBcImZhY2UvWmgvWmhfYTEwMDUucG5nXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYodGV4dFtEaWFMYWIuaW5zdGFuY2UuY2hhTnVtXSA9PSBcIuWwkeWls1wiKXtcclxuICAgICAgICAgICAgc3dpdGNoKHRleHRbRGlhTGFiLmluc3RhbmNlLmZhY2VOdW1dKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCLlpKflk61cIjpcclxuICAgICAgICAgICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UuRmFjZS5za2luID0gXCJmYWNlL0d1L0d1X2ExMDAzLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIuWkp+eskVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5GYWNlLnNraW4gPSBcImZhY2UvR3UvR3VfYTEwMDUucG5nXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRGlhTGFiIGZyb20gXCIuL0Rpb2xvZ1wiXG5pbXBvcnQgY29tbWFuZFJlYWRlciBmcm9tIFwiLi9jb21tYW5kUmVhZGVyXCJcbmltcG9ydCBmYWNlUmVhZGVyIGZyb20gXCIuL0ZhY2VSZWFkZXJcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlYWRlciBleHRlbmRzIExheWEuU2NyaXB0e1xuICAgIHB1YmxpYyBuYW1lU3RhcnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgbGluZVN0YXJ0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBjb21SZWFkZXI6IGNvbW1hbmRSZWFkZXI7XG4gICAgcHJpdmF0ZSBmYVJlYWRlcjogZmFjZVJlYWRlcjtcbiAgICAvLyBwcml2YXRlIGZpbmRlcjogbnVtYmVyO1xuICAgIHByaXZhdGUgc3RvcnlQYXRoOiBzdHJpbmcgPSBcIi4uL2xheWEvYXNzZXRzL3Jlcy90ZXN0LmNzdlwiO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIG9uQXdha2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29tUmVhZGVyID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoY29tbWFuZFJlYWRlcik7XG4gICAgICAgIHRoaXMuZmFSZWFkZXIgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChmYWNlUmVhZGVyKTtcbiAgICB9XG5cbiAgICByZWFkKE51bT86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHRoaXMuc3RvcnlQYXRoLCBuZXcgTGF5YS5IYW5kbGVyKHRoaXMsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbVJlYWRlci5yZWFkQ29tKGUuc3BsaXQoXCIsXCIpKTtcbiAgICAgICAgICAgIHRoaXMuZmFSZWFkZXIucmVhZEZhY2UoZS5zcGxpdChcIixcIikpOyAgICAgXG4gICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UubmFtZUNhc2UoZS5zcGxpdChcIixcIilbTnVtXSk7XG4gICAgICAgICAgICBpZiAoRGlhTGFiLmluc3RhbmNlLm9ubHlPbmNlKSByZXR1cm47XG4gICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2Uuc3RvcnkubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5zdG9yeSA9IERpYUxhYi5pbnN0YW5jZS5zdG9yeS5jb25jYXQoZS5zcGxpdChcIixcIikpO1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgLy8gZmluZE5hbWVTdGFydCh0ZXh0OiBzdHJpbmcpOiB2b2lke1xuICAgIC8vICAgICBmb3IodGhpcy5maW5kZXIgPSA2O3RoaXMuZmluZGVyIDwgMTAwO3RoaXMuZmluZGVyICs9IERpYUxhYi5pbnN0YW5jZS5maW5kTmV4dCl7XG4gICAgLy8gICAgICAgICBpZih0ZXh0W3RoaXMuZmluZGVyXSAhPSBcIlwiKXtcbiAgICAvLyAgICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UuY2hhTnVtID0gdGhpcy5maW5kZXI7XG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maW5kZXIpO1xuICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gZmluZExpbmVTdGFydCh0ZXh0OiBzdHJpbmcpOiB2b2lke1xuICAgIC8vICAgICBmb3IodGhpcy5maW5kZXIgPSA3O3RoaXMuZmluZGVyIDwgMTAwO3RoaXMuZmluZGVyICs9IERpYUxhYi5pbnN0YW5jZS5maW5kTmV4dCl7XG4gICAgLy8gICAgICAgICBpZih0ZXh0W3RoaXMuZmluZGVyXSAhPSBcIlwiKXtcbiAgICAvLyAgICAgICAgICAgICBEaWFMYWIuaW5zdGFuY2UubGluZSA9IHRoaXMuZmluZGVyO1xuICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxufSIsImltcG9ydCBEaWFMYWIgZnJvbSBcIi4vRGlvbG9nXCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbW1hbmRSZWFkZXIgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTsgICBcbiAgICB9XG5cbiAgICByZWFkQ29tKHRleHQ/OiBzdHJpbmcpOnZvaWQge1xuICAgICAgICBjb25zb2xlLmxvZyh0ZXh0W0RpYUxhYi5pbnN0YW5jZS5jb21OdW1dKTtcbiAgICB9XG59Il19
