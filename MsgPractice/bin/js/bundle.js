var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var Diolog_1 = require("./Scripts/Diolog");
var Button1_1 = require("./Scripts/Button1");
var Reader_1 = require("./Scripts/Reader");
var commandReader_1 = require("./Scripts/commandReader");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("Scripts/Diolog.ts", Diolog_1.default);
        reg("Scripts/Button1.ts", Button1_1.default);
        reg("Scripts/Reader.ts", Reader_1.default);
        reg("Scripts/commandReader.ts", commandReader_1.default);
    };
    GameConfig.width = 1920;
    GameConfig.height = 1080;
    GameConfig.scaleMode = "full";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "left";
    GameConfig.startScene = "Msg.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./Scripts/Button1":3,"./Scripts/Diolog":4,"./Scripts/Reader":5,"./Scripts/commandReader":6}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var Button1 = /** @class */ (function (_super) {
    __extends(Button1, _super);
    function Button1() {
        return _super.call(this) || this;
    }
    Button1.prototype.onEnable = function () {
        var button = this.owner;
        button.on(Laya.Event.CLICK, this, function () {
            Diolog_1.default.instance.button1Click();
        });
    };
    return Button1;
}(Laya.Script));
exports.default = Button1;
},{"./Diolog":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Reader_1 = require("./Reader");
var DiaLab = /** @class */ (function (_super) {
    __extends(DiaLab, _super);
    function DiaLab() {
        var _this = _super.call(this) || this;
        _this.story = [""]; //文本
        DiaLab.instance = _this;
        return _this;
    }
    // private comReader: commandReader;
    DiaLab.prototype.createChildren = function () {
        _super.prototype.createChildren.call(this);
        this.loadScene("Msg");
    };
    DiaLab.prototype.onEnable = function () {
        this.Diolog.on(Laya.Event.CLICK, this, this.ClickFn);
    };
    DiaLab.prototype.onAwake = function () {
        // this.comReader = this.getComponent(commandReader);
        this.reader = this.getComponent(Reader_1.default);
        this.onlyOnce = false;
        this.line = 8;
        this.word = 0;
        this.chaNum = 7;
        this.findNext = 5;
        this.faceNum = 9;
        this.lineComplete = false;
        this.ShowWords();
    };
    DiaLab.prototype.button1Click = function () {
    };
    DiaLab.prototype.ShowWords = function () {
        var _this = this;
        this.reader.read(this.chaNum);
        this.showWord = setInterval(function () {
            _this.splitted = _this.story[_this.line][_this.word]; //把文本拆開 +1是為了避開 開頭的代號
            if (_this.splitted == undefined)
                return; //運行到最後一字時 避免出錯  
            _this.Diolog.text += _this.splitted;
            _this.word++; //跳下一個字            
            if (_this.story[_this.line][_this.word] == undefined) { //判斷此句是否結束
                clearInterval(_this.showWord); //關閉showWord
                _this.lineComplete = true;
            }
        }, 150);
    };
    DiaLab.prototype.isEnd = function () {
        if (this.story[this.line + this.findNext] == undefined) { //文本是否結束
            this.Diolog.off(Laya.Event.CLICK, this, this.ClickFn); //關閉點擊事件
            console.log("結束");
            return;
        }
        else if (this.story[this.line][this.word] == undefined) { //此句是否結束
            this.onlyOnce = true;
            this.word = 0;
            this.Diolog.text = "";
            this.line += this.findNext; //下一句話
            this.chaNum += this.findNext; //下一個人
            this.faceNum += this.findNext; //下一個表情
            return;
        }
    };
    DiaLab.prototype.ClickFn = function (e) {
        this.lineComplete = !this.lineComplete;
        if (this.lineComplete) { //文字還沒跳完時 點擊使他一次跳完
            clearInterval(this.showWord);
            this.word = this.story[this.line].length; //this.word = 此句最後一個字 (作為條件判斷是否進入下一句)
            this.Diolog.text = this.story[this.line]; //.substring(0, this.story[this.line].length);//跳出完整句子 避開 開頭代號
        }
        else { //文字跳完時 點擊跳出下一句 並呼叫showWord
            this.isEnd();
            this.ShowWords();
        }
    };
    DiaLab.prototype.nameCase = function (name) {
        switch (name) {
            case "吳俞恆":
                this.Name.text = "吳俞恆";
                break;
            case "少女":
                this.Name.text = "少女";
                break;
            case "":
                this.Name.text = "";
                break;
            case "D":
                this.Name.text = "D";
                break;
            case "E":
                this.Name.text = "E";
                break;
            case "F":
                this.Name.text = "F";
                break;
            case "G":
                this.Name.text = "G";
                break;
            case "H":
                this.Name.text = "H";
                break;
            case "I":
                this.Name.text = "I";
                break;
        }
    };
    return DiaLab;
}(Laya.Scene));
exports.default = DiaLab;
},{"./Reader":5}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Diolog_1 = require("./Diolog");
var commandReader_1 = require("./commandReader");
var Reader = /** @class */ (function (_super) {
    __extends(Reader, _super);
    function Reader() {
        var _this = _super.call(this) || this;
        // private finder: number;
        _this.storyPath = "../laya/assets/res/test.csv";
        return _this;
    }
    Reader.prototype.onAwake = function () {
        this.comReader = this.owner.getComponent(commandReader_1.default);
    };
    Reader.prototype.read = function (Num) {
        var _this = this;
        Laya.loader.load(this.storyPath, new Laya.Handler(this, function (e) {
            Diolog_1.default.instance.nameCase(e.split(",")[Num]);
            _this.comReader.readCom(e.split(","));
            if (Diolog_1.default.instance.onlyOnce)
                return;
            Diolog_1.default.instance.story.length = 0;
            Diolog_1.default.instance.story = Diolog_1.default.instance.story.concat(e.split(","));
        }));
    };
    return Reader;
}(Laya.Script));
exports.default = Reader;
},{"./Diolog":4,"./commandReader":6}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var commandReader = /** @class */ (function (_super) {
    __extends(commandReader, _super);
    function commandReader() {
        return _super.call(this) || this;
    }
    commandReader.prototype.onAwake = function () {
    };
    commandReader.prototype.readCom = function (text) {
        console.log(this.Face);
        // if(text[DiaLab.instance.chaNum] == "吳俞恆"){
        //     switch(text[DiaLab.instance.faceNum]){
        //         case "大哭":
        //             this.Face.skin = "face/Zh/Zh_a1001.png";
        //             break;
        //         case "大笑":
        //             this.Face.skin = "face/Zh/Zh_a1001.png";
        //             break;
        //     }
        // } else if(text[DiaLab.instance.chaNum] == "少女"){
        //     switch(text[DiaLab.instance.faceNum]){
        //         case "大哭":
        //             this.Face.skin = "face/Gu/Gu_a1001.png";
        //             break;
        //         case "大笑":
        //             this.Face.skin = "face/Gu/Gu_a1002.png";
        //             break;
        //     }
        // }
    };
    return commandReader;
}(Laya.Image));
exports.default = commandReader;
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3dvcmtzcGFjZS9MYXlhMi9MYXlhQWlySURFL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvU2NyaXB0cy9CdXR0b24xLnRzIiwic3JjL1NjcmlwdHMvRGlvbG9nLnRzIiwic3JjL1NjcmlwdHMvUmVhZGVyLnRzIiwic3JjL1NjcmlwdHMvY29tbWFuZFJlYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsMkNBQXFDO0FBQ3JDLDZDQUF1QztBQUN2QywyQ0FBcUM7QUFDckMseURBQW1EO0FBQ25EOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsbUJBQW1CLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO1FBQ2hDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxpQkFBTyxDQUFDLENBQUM7UUFDbEMsR0FBRyxDQUFDLG1CQUFtQixFQUFDLGdCQUFNLENBQUMsQ0FBQztRQUNoQyxHQUFHLENBQUMsMEJBQTBCLEVBQUMsdUJBQWEsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFuQk0sZ0JBQUssR0FBUSxJQUFJLENBQUM7SUFDbEIsaUJBQU0sR0FBUSxJQUFJLENBQUM7SUFDbkIsb0JBQVMsR0FBUSxNQUFNLENBQUM7SUFDeEIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxRQUFRLENBQUM7SUFDdkIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIscUJBQVUsR0FBSyxXQUFXLENBQUM7SUFDM0Isb0JBQVMsR0FBUSxFQUFFLENBQUM7SUFD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Q3ZELHFCQUFxQjtRQUNyQixxQkFBcUI7UUFDckIsdURBQXVEO1FBQ3ZELHFCQUFxQjtRQUNyQixRQUFRO1FBQ1IsbURBQW1EO1FBQ25ELDZDQUE2QztRQUM3QyxxQkFBcUI7UUFDckIsdURBQXVEO1FBQ3ZELHFCQUFxQjtRQUNyQixxQkFBcUI7UUFDckIsdURBQXVEO1FBQ3ZELHFCQUFxQjtRQUNyQixRQUFRO1FBQ1IsSUFBSTtJQUNSLENBQUM7SUFDTCxvQkFBQztBQUFELENBakNBLEFBaUNDLENBakMwQyxJQUFJLENBQUMsS0FBSyxHQWlDcEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBEaW9sb2cgZnJvbSBcIi4vU2NyaXB0cy9EaW9sb2dcIlxuaW1wb3J0IEJ1dHRvbjEgZnJvbSBcIi4vU2NyaXB0cy9CdXR0b24xXCJcbmltcG9ydCBSZWFkZXIgZnJvbSBcIi4vU2NyaXB0cy9SZWFkZXJcIlxuaW1wb3J0IGNvbW1hbmRSZWFkZXIgZnJvbSBcIi4vU2NyaXB0cy9jb21tYW5kUmVhZGVyXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTE5MjA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMDgwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmdWxsXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cIm1pZGRsZVwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJNc2cuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcIlNjcmlwdHMvRGlvbG9nLnRzXCIsRGlvbG9nKTtcbiAgICAgICAgcmVnKFwiU2NyaXB0cy9CdXR0b24xLnRzXCIsQnV0dG9uMSk7XG4gICAgICAgIHJlZyhcIlNjcmlwdHMvUmVhZGVyLnRzXCIsUmVhZGVyKTtcbiAgICAgICAgcmVnKFwiU2NyaXB0cy9jb21tYW5kUmVhZGVyLnRzXCIsY29tbWFuZFJlYWRlcik7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IERpYUxhYiBmcm9tIFwiLi9EaW9sb2dcIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24xIGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcbiAgICBwdWJsaWMgQnRuMTogTGF5YS5CdXR0b247XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lke1xyXG4gICAgICAgIGxldCBidXR0b246IExheWEuQnV0dG9uID0gdGhpcy5vd25lciBhcyBMYXlhLkJ1dHRvbjtcclxuICAgICAgICBidXR0b24ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywoKT0+e1xyXG4gICAgICAgIERpYUxhYi5pbnN0YW5jZS5idXR0b24xQ2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBSZWFkZXIgZnJvbSBcIi4vUmVhZGVyXCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlhTGFiIGV4dGVuZHMgTGF5YS5TY2VuZXtcclxuICAgIHN0YXRpYyBpbnN0YW5jZTogRGlhTGFiOy8v6Iul5YW25LuW56iL5byP6KaB6Kq/55SoIOWJh+W/hemgiOWuo+WRilxyXG4gICAgcHJpdmF0ZSB3b3JkOiBudW1iZXI7Ly/mlofmnKzkuK0g5q+P5LiA5Y+l6Kmx5YCL5Yil55qE5a2X5pW4XHJcbiAgICBwcml2YXRlIGxpbmU6IG51bWJlcjsvL+aWh+acrOS4rSDlj6XmlbhcclxuICAgIHByaXZhdGUgbGluZUNvbXBsZXRlOiBib29sZWFuOy8v5Yik5pa3IOmAmeWPpeipseaYr+WQpuism+WujFxyXG4gICAgcHJpdmF0ZSBzcGxpdHRlZDogc3RyaW5nOy8v5oqK5paH5pys5ouG6ZaLXHJcbiAgICBwcml2YXRlIHNob3dXb3JkOiBudW1iZXI7Ly/orpPmlofmnKzkuIDlrZfkuIDlrZflh7rnj77nmoTlh73lvI9cclxuICAgIHB1YmxpYyBzdG9yeTogc3RyaW5nW10gPSBbXCJcIl07Ly/mlofmnKxcclxuICAgIHB1YmxpYyBjaGFOdW06IG51bWJlcjtcclxuICAgIHB1YmxpYyBmaW5kTmV4dDogbnVtYmVyOy8vZXhjZWzmiaPmjolDb21tYW5k5pyJ5bm+5YiX5bCx6KaB5aSa5bCRIOeUqOS+huaJvuWIsOS4i+S4gOWAi+ebuOWQjOashOS9jVxyXG4gICAgcHVibGljIG9ubHlPbmNlOiBib29sZWFuOy8v6K6TUmVhZGVy5Y+W5Ye65paH5pys55qE5YuV5L2c5LiN6KaB6YeN6KSH5Z+36KGMXHJcbiAgICBwdWJsaWMgZmFjZU51bTogbnVtYmVyO1xyXG4gICAgcHVibGljIERpb2xvZzogTGF5YS5MYWJlbDtcclxuICAgIHB1YmxpYyBOYW1lOiBMYXlhLkxhYmVsOyBcclxuICAgIHByaXZhdGUgcmVhZGVyOiBSZWFkZXI7XHJcbiAgICAvLyBwcml2YXRlIGNvbVJlYWRlcjogY29tbWFuZFJlYWRlcjtcclxuXHJcbiAgICBcclxuICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICB0aGlzLmxvYWRTY2VuZShcIk1zZ1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBEaWFMYWIuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuRGlvbG9nLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuQ2xpY2tGbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyB0aGlzLmNvbVJlYWRlciA9IHRoaXMuZ2V0Q29tcG9uZW50KGNvbW1hbmRSZWFkZXIpO1xyXG4gICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy5nZXRDb21wb25lbnQoUmVhZGVyKTtcclxuICAgICAgICB0aGlzLm9ubHlPbmNlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saW5lID0gODtcclxuICAgICAgICB0aGlzLndvcmQgPSAwO1xyXG4gICAgICAgIHRoaXMuY2hhTnVtID0gNztcclxuICAgICAgICB0aGlzLmZpbmROZXh0ID0gNTtcclxuICAgICAgICB0aGlzLmZhY2VOdW0gPSA5O1xyXG4gICAgICAgIHRoaXMubGluZUNvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5TaG93V29yZHMoKTtcclxuICAgIH0gICBcclxuXHJcbiAgICBidXR0b24xQ2xpY2soKTp2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgU2hvd1dvcmRzKCk6IHZvaWQgey8v6K6T5paH5pys5LiA5a2X5LiA5a2X5Ye654++XHJcbiAgICAgICAgdGhpcy5yZWFkZXIucmVhZCh0aGlzLmNoYU51bSk7XHJcbiAgICAgICAgdGhpcy5zaG93V29yZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zcGxpdHRlZCA9IHRoaXMuc3RvcnlbdGhpcy5saW5lXVt0aGlzLndvcmRdOy8v5oqK5paH5pys5ouG6ZaLICsx5piv54K65LqG6YG/6ZaLIOmWi+mgreeahOS7o+iZn1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zcGxpdHRlZCA9PSB1bmRlZmluZWQpIHJldHVybjsgLy/pgYvooYzliLDmnIDlvozkuIDlrZfmmYIg6YG/5YWN5Ye66YyvICBcclxuICAgICAgICAgICAgdGhpcy5EaW9sb2cudGV4dCArPSB0aGlzLnNwbGl0dGVkO1xyXG4gICAgICAgICAgICB0aGlzLndvcmQrKzsvL+i3s+S4i+S4gOWAi+WtlyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yeVt0aGlzLmxpbmVdW3RoaXMud29yZF0gPT0gdW5kZWZpbmVkKSB7Ly/liKTmlrfmraTlj6XmmK/lkKbntZDmnZ9cclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zaG93V29yZCk7Ly/pl5zplolzaG93V29yZFxyXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTUwKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0VuZCgpOiB2b2lkIHsvL+WIpOaWt+mAmeWPpeipseaYr+WQpuism+WujCAmIOaWh+acrOaYr+WQpuWFqOmDqOism+WujFxyXG4gICAgICAgIGlmICh0aGlzLnN0b3J5W3RoaXMubGluZSArIHRoaXMuZmluZE5leHRdID09IHVuZGVmaW5lZCkgeyAvL+aWh+acrOaYr+WQpue1kOadn1xyXG4gICAgICAgICAgICB0aGlzLkRpb2xvZy5vZmYoTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5DbGlja0ZuKTsvL+mXnOmWiem7nuaTiuS6i+S7tlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIue1kOadn1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdG9yeVt0aGlzLmxpbmVdW3RoaXMud29yZF0gPT0gdW5kZWZpbmVkKSB7Ly/mraTlj6XmmK/lkKbntZDmnZ9cclxuICAgICAgICAgICAgdGhpcy5vbmx5T25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMud29yZCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuRGlvbG9nLnRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmUrPXRoaXMuZmluZE5leHQ7Ly/kuIvkuIDlj6XoqbFcclxuICAgICAgICAgICAgdGhpcy5jaGFOdW0rPXRoaXMuZmluZE5leHQ7Ly/kuIvkuIDlgIvkurpcclxuICAgICAgICAgICAgdGhpcy5mYWNlTnVtKz10aGlzLmZpbmROZXh0Oy8v5LiL5LiA5YCL6KGo5oOFXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQ2xpY2tGbihlOiBMYXlhLkV2ZW50KTogdm9pZCB7Ly/pu57mk4rkuovku7ZcclxuICAgICAgICB0aGlzLmxpbmVDb21wbGV0ZSA9ICF0aGlzLmxpbmVDb21wbGV0ZTtcclxuICAgICAgICBpZiAodGhpcy5saW5lQ29tcGxldGUpIHsvL+aWh+Wtl+mChOaykui3s+WujOaZgiDpu57mk4rkvb/ku5bkuIDmrKHot7PlroxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNob3dXb3JkKTtcclxuICAgICAgICAgICAgdGhpcy53b3JkID0gdGhpcy5zdG9yeVt0aGlzLmxpbmVdLmxlbmd0aDsvL3RoaXMud29yZCA9IOatpOWPpeacgOW+jOS4gOWAi+WtlyAo5L2c54K65qKd5Lu25Yik5pa35piv5ZCm6YCy5YWl5LiL5LiA5Y+lKVxyXG4gICAgICAgICAgICB0aGlzLkRpb2xvZy50ZXh0ID0gdGhpcy5zdG9yeVt0aGlzLmxpbmVdOy8vLnN1YnN0cmluZygwLCB0aGlzLnN0b3J5W3RoaXMubGluZV0ubGVuZ3RoKTsvL+i3s+WHuuWujOaVtOWPpeWtkCDpgb/plosg6ZaL6aCt5Luj6JmfXHJcbiAgICAgICAgfSBlbHNlIHsvL+aWh+Wtl+i3s+WujOaZgiDpu57mk4rot7Plh7rkuIvkuIDlj6Ug5Lim5ZG85Y+rc2hvd1dvcmRcclxuICAgICAgICAgICAgdGhpcy5pc0VuZCgpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLlNob3dXb3JkcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICBuYW1lQ2FzZShuYW1lPzogc3RyaW5nKTogdm9pZCB7Ly/mipPlj5bplovpoK3ku6PomZ8g5pS56K6K5ZCN5a2XXHJcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCLlkLPkv57mgYZcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCLlkLPkv57mgYZcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCLlsJHlpbNcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCLlsJHlpbNcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJEXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLk5hbWUudGV4dCA9IFwiRFwiXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkVcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCJFXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiRlwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5OYW1lLnRleHQgPSBcIkZcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJHXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLk5hbWUudGV4dCA9IFwiR1wiXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkhcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuTmFtZS50ZXh0ID0gXCJIXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiSVwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5OYW1lLnRleHQgPSBcIklcIlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IERpYUxhYiBmcm9tIFwiLi9EaW9sb2dcIlxyXG5pbXBvcnQgY29tbWFuZFJlYWRlciBmcm9tIFwiLi9jb21tYW5kUmVhZGVyXCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVhZGVyIGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcbiAgICBwdWJsaWMgbmFtZVN0YXJ0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbGluZVN0YXJ0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNvbVJlYWRlcjogY29tbWFuZFJlYWRlcjtcclxuICAgIC8vIHByaXZhdGUgZmluZGVyOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHN0b3J5UGF0aDogc3RyaW5nID0gXCIuLi9sYXlhL2Fzc2V0cy9yZXMvdGVzdC5jc3ZcIjtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNvbVJlYWRlciA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KGNvbW1hbmRSZWFkZXIpXHJcbiAgICB9XHJcblxyXG4gICAgcmVhZChOdW0/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHRoaXMuc3RvcnlQYXRoLCBuZXcgTGF5YS5IYW5kbGVyKHRoaXMsIChlKSA9PiB7ICAgICAgXHJcbiAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5uYW1lQ2FzZShlLnNwbGl0KFwiLFwiKVtOdW1dKTtcclxuICAgICAgICAgICAgdGhpcy5jb21SZWFkZXIucmVhZENvbShlLnNwbGl0KFwiLFwiKSk7XHJcbiAgICAgICAgICAgIGlmIChEaWFMYWIuaW5zdGFuY2Uub25seU9uY2UpIHJldHVybjtcclxuICAgICAgICAgICAgRGlhTGFiLmluc3RhbmNlLnN0b3J5Lmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5zdG9yeSA9IERpYUxhYi5pbnN0YW5jZS5zdG9yeS5jb25jYXQoZS5zcGxpdChcIixcIikpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmaW5kTmFtZVN0YXJ0KHRleHQ6IHN0cmluZyk6IHZvaWR7XHJcbiAgICAvLyAgICAgZm9yKHRoaXMuZmluZGVyID0gNjt0aGlzLmZpbmRlciA8IDEwMDt0aGlzLmZpbmRlciArPSBEaWFMYWIuaW5zdGFuY2UuZmluZE5leHQpe1xyXG4gICAgLy8gICAgICAgICBpZih0ZXh0W3RoaXMuZmluZGVyXSAhPSBcIlwiKXtcclxuICAgIC8vICAgICAgICAgICAgIERpYUxhYi5pbnN0YW5jZS5jaGFOdW0gPSB0aGlzLmZpbmRlcjtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmluZGVyKTtcclxuICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZpbmRMaW5lU3RhcnQodGV4dDogc3RyaW5nKTogdm9pZHtcclxuICAgIC8vICAgICBmb3IodGhpcy5maW5kZXIgPSA3O3RoaXMuZmluZGVyIDwgMTAwO3RoaXMuZmluZGVyICs9IERpYUxhYi5pbnN0YW5jZS5maW5kTmV4dCl7XHJcbiAgICAvLyAgICAgICAgIGlmKHRleHRbdGhpcy5maW5kZXJdICE9IFwiXCIpe1xyXG4gICAgLy8gICAgICAgICAgICAgRGlhTGFiLmluc3RhbmNlLmxpbmUgPSB0aGlzLmZpbmRlcjtcclxuICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG59IiwiaW1wb3J0IERpYUxhYiBmcm9tIFwiLi9EaW9sb2dcIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjb21tYW5kUmVhZGVyIGV4dGVuZHMgTGF5YS5JbWFnZXtcclxuICAgIHB1YmxpYyBGYWNlOiBMYXlhLkltYWdlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpOnZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIHJlYWRDb20odGV4dD86IHN0cmluZyk6dm9pZCB7ICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuRmFjZSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgLy8gaWYodGV4dFtEaWFMYWIuaW5zdGFuY2UuY2hhTnVtXSA9PSBcIuWQs+S/nuaBhlwiKXtcclxuICAgICAgICAvLyAgICAgc3dpdGNoKHRleHRbRGlhTGFiLmluc3RhbmNlLmZhY2VOdW1dKXtcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgXCLlpKflk61cIjpcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkZhY2Uuc2tpbiA9IFwiZmFjZS9aaC9aaF9hMTAwMS5wbmdcIjtcclxuICAgICAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgXCLlpKfnrJFcIjpcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkZhY2Uuc2tpbiA9IFwiZmFjZS9aaC9aaF9hMTAwMS5wbmdcIjtcclxuICAgICAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0gZWxzZSBpZih0ZXh0W0RpYUxhYi5pbnN0YW5jZS5jaGFOdW1dID09IFwi5bCR5aWzXCIpe1xyXG4gICAgICAgIC8vICAgICBzd2l0Y2godGV4dFtEaWFMYWIuaW5zdGFuY2UuZmFjZU51bV0pe1xyXG4gICAgICAgIC8vICAgICAgICAgY2FzZSBcIuWkp+WTrVwiOlxyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuRmFjZS5za2luID0gXCJmYWNlL0d1L0d1X2ExMDAxLnBuZ1wiO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgICAgY2FzZSBcIuWkp+eskVwiOlxyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuRmFjZS5za2luID0gXCJmYWNlL0d1L0d1X2ExMDAyLnBuZ1wiO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG59Il19
